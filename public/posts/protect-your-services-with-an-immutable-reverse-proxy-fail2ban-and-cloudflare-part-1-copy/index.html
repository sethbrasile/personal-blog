<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Protect Your Services with an Immutable Reverse Proxy, Fail2Ban, and Cloudflare (Part 1) | Seth Brasile</title>
<meta name="keywords" content="coreos, nginx, containers, immutable infrastructure, homelab, security, cloudflare">
<meta name="description" content="The idea of hosting a web service in your own home can be simultaneously exciting and absolutely horrifying&hellip; On the one hand, you&rsquo;d like to learn more about web technologies and devops, learn how to create robust services, and learn how to secure them. On the other hand though, you&rsquo;re worried about the security implications of hosting a web service on your home network. What happens if you do this incorrectly?">
<meta name="author" content="Seth Brasile">
<link rel="canonical" href="http://localhost:1313/posts/protect-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare-part-1-copy/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/protect-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare-part-1-copy/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Seth Brasile (Alt + H)">Seth Brasile</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="posts">
                    <span>posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="about">
                    <span>about</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="contact">
                    <span>contact</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Protect Your Services with an Immutable Reverse Proxy, Fail2Ban, and Cloudflare (Part 1)
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h1>
    <div class="post-meta"><span title='2024-04-22 11:38:01 -0500 CDT'>April 22, 2024</span>&nbsp;Â·&nbsp;Seth Brasile

</div>
  </header> 
  <div class="post-content"><!-- raw HTML omitted -->
<p>The idea of hosting a web service in your own home can be simultaneously exciting and absolutely horrifying&hellip; On the one hand, you&rsquo;d like to learn more about web technologies and devops, learn how to create robust services, and learn how to secure them. On the other hand though, you&rsquo;re worried about the security implications of hosting a web service on your home network. What happens if you do this incorrectly? What happens if an attacker gets into your network due to some mistake you made?&quot; This is where some planning and multiple layers of reverse proxy (with some baked-in security-focused tools) comes in.</p>
<p>We&rsquo;ll be discussing these topics from the perspective of a homelab, but the same principles apply to a production environment. The only difference is that in a production environment, you&rsquo;d likely have more resources to throw at the problem, and you&rsquo;d likely have more people to help you manage the problem. In a homelab, you&rsquo;re likely on your own. Learn these concepts at home and then point out to everyone at work how your home web service is much more secure than the one your employer pays for!</p>
<p>First, we&rsquo;ll be discussing <a href="#understanding-the-threat">some theory on threats and attack vectors</a> so that we understand <em>why</em> each of these tools matters and so that we can make intelligent decisions in their configuration. Then we&rsquo;ll be discussing the <a href="#understanding-the-tools-at-our-disposal">specifics of the tools themselves</a> and how they can be used to secure your web services. Finally, we&rsquo;ll be discussing <a href="#guide-protecting-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare">how to deploy these tools</a> in a homelab environment.</p>
<p><strong>If you&rsquo;re looking for the tl;dr, step-by-step guide, you can skip to that section <a href="#guide-protecting-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare">here</a></strong></p>
<h1 id="understanding-the-threat">Understanding the Threat<a hidden class="anchor" aria-hidden="true" href="#understanding-the-threat">#</a></h1>
<p>It&rsquo;s important that we think through the types of attackers that we&rsquo;re trying to protect against. Think through their perspective, what information they have available to them, what tools they might have at their disposal, and what their motivations might be.</p>
<h2 id="the-random-attacker">The Random Attacker<a hidden class="anchor" aria-hidden="true" href="#the-random-attacker">#</a></h2>
<p>Generally speaking, just like irl thieves, attackers are looking for <em>easy</em> targets, so the more difficult you make it for them, the more likely they are to move on to the next target.</p>
<p>Let&rsquo;s work through this scenario: An attacker has found that your IP address has some ports opened. They may have found your IP address by probing DNS records and found that GoDaddy URL that you pointed at your IP address last year, or maybe they did a scan across a public IP range and found that you&rsquo;re responding in some way on a port or two (remember that &ldquo;hanging&rdquo; or &ldquo;not responding&rdquo; is just as good as a response for these purposes). Or maybe they found your IP address in a data breach or in <a href="https://www.shodan.io">Shodan</a> and are just trying to see if you&rsquo;re still vulnerable.</p>
<p>This attacker is likely to be using automated tools to scan for open ports, identify services running on those ports, and exploit known vulnerabilities in those services or the servers they&rsquo;re hosted on. They&rsquo;re not specifically targeting you, they&rsquo;re just looking for easy targets. They&rsquo;re likely to move on to the next target if they encounter any resistance or if they find that you&rsquo;re not an easy target. They run a few scripts against your IP, they don&rsquo;t work, they move on.</p>
<p>This is an extremely easy one for us, and an important one to get right. When this type of attacker <em>does</em> find a vulnerability they&rsquo;re unlikely to just start attacking, they&rsquo;re likely to either log the vulnerability or use it to install some method of continued foothold in the network, then sell that information or foothold to some other interested party. This is where the next type of attacker comes in:</p>
<h2 id="the-targeted-attacker">The Targeted Attacker<a hidden class="anchor" aria-hidden="true" href="#the-targeted-attacker">#</a></h2>
<p>This attacker is a bit more intelligent, sophisticated and motivated. They might know who you are (or at least already know what you&rsquo;re hosting) and they&rsquo;re specifically targeting you. They could be someone who knows you, they could be hired by someone who wants your data, or they could be a random attacker with increased interest because they decided they like the last 3 digits of your public IP. It&rsquo;s also possible that this attacker bought a list that contained your IP address and an existing foothold in your network from the random attacker we discussed in the previous paragraph.</p>
<p>The way we mitigate this attacker is first and foremost by avoiding <a href="#the-random-attacker">ending up on a list</a> in the first place, and second, by making it extremely difficult for them to find out any information about our stack, and placing multiple layers of security in their way so that if they find a vulnerability, they&rsquo;re unlikely to be able to use the same vulnerability to get through the next layer of security.</p>
<h2 id="the-attackers-tools">The Attacker&rsquo;s Tools<a hidden class="anchor" aria-hidden="true" href="#the-attackers-tools">#</a></h2>
<p>New vulnerabilities are discovered every day and attackers are constantly scanning the internet for vulnerable systems. They use automated tools to scan for open ports, identify services running on those ports, and exploit known vulnerabilities in those services or the servers they&rsquo;re hosted on. They also use brute-force attacks to guess passwords, launch DDoS attacks to overwhelm servers, and deploy malware to compromise systems.</p>
<p>There are &ldquo;dark web&rdquo; marketplaces filled with information about vulnerabilities, exploits, and tools that attackers can use to compromise systems. These tools are often sold or rented to attackers, making it easier for them to launch attacks without having to develop their own tools.</p>
<p>Anything that we can do to slow an attacker down or make it more difficult for them to locate details about the systems we&rsquo;re running our services on is going to be beneficial.</p>
<h1 id="3-classes-of-attack-and-how-to-protect-against-them">3 Classes of Attack and How to Protect Against Them<a hidden class="anchor" aria-hidden="true" href="#3-classes-of-attack-and-how-to-protect-against-them">#</a></h1>
<h2 id="ddos-attacks">DDoS Attacks<a hidden class="anchor" aria-hidden="true" href="#ddos-attacks">#</a></h2>
<h1 id="understanding-the-tools-at-our-disposal">Understanding the Tools at our Disposal<a hidden class="anchor" aria-hidden="true" href="#understanding-the-tools-at-our-disposal">#</a></h1>
<h2 id="reverse-proxy">Reverse Proxy<a hidden class="anchor" aria-hidden="true" href="#reverse-proxy">#</a></h2>
<p>A reverse proxy acts as a middleman between the internet and your web server, forwarding client requests to the server and concealing the server&rsquo;s existence and characteristics (and therefore, concealing information about potential vulnerabilities). This setup provides several security benefits, including anonymity and obscurity, load balancing and traffic control, ability to inject additional tooling into the web stack (even on legacy applications) and centralized SSL/TLS management. Let&rsquo;s break these down:</p>
<h3 id="anonymity-and-obscurity">Anonymity and Obscurity<a hidden class="anchor" aria-hidden="true" href="#anonymity-and-obscurity">#</a></h3>
<p>By concealing the existence and characteristics of the backend servers, a reverse proxy makes it harder for attackers to exploit specific server vulnerabilities. This is because the reverse proxy acts as a shield, preventing attackers from directly interacting with the backend servers. This is especially important when it comes to protecting against zero-day vulnerabilities or other unknown exploits.</p>
<h3 id="ability-to-inject-additional-tooling">Ability to Inject Additional Tooling<a hidden class="anchor" aria-hidden="true" href="#ability-to-inject-additional-tooling">#</a></h3>
<p>A reverse proxy can be used to inject additional security tooling into the web stack, such as Web Application Firewalls (WAFs), Intrusion Detection Systems (IDS), and other security mechanisms. This allows you to add an extra layer of protection to your web services without modifying the underlying applications, making it easier to secure legacy applications or third-party services. This is especially useful when you&rsquo;re hosting a web service that you don&rsquo;t have control over, or when you&rsquo;re hosting a web service that you don&rsquo;t have the ability to modify (like a third-party service).</p>
<p>We will be discussing Fail2Ban and WAF in this post, but it&rsquo;s worth mentioning that you could also use IDS, or other security mechanisms in this layer. IDS should really be integrated into your firewall.</p>
<h3 id="centralized-ssltls-management">Centralized SSL/TLS Management<a hidden class="anchor" aria-hidden="true" href="#centralized-ssltls-management">#</a></h3>
<p>By handling SSL/TLS encryption at the reverse proxy level, you can simplify and automate certificate management for many domains at once and ensure encrypted connections between clients and the web server without any interaction from you. This enhances data security during transmission and helps protect sensitive information from eavesdropping or interception. Centralized SSL/TLS management also allows you to enforce security policies consistently across all web services, ensuring that encryption is always enabled and properly configured. Gone are the days of &ldquo;I swear, I swapped out that certificate last month!&rdquo; and &ldquo;Hey, did you buy a new certificate for that domain yet?&rdquo;</p>
<h3 id="load-balancing-and-traffic-control">Load Balancing and Traffic Control<a hidden class="anchor" aria-hidden="true" href="#load-balancing-and-traffic-control">#</a></h3>
<p>It may seem at first that load balancing and traffic control are not security features, but they are. It has been proven that <a href="https://www.corero.com/theft-and-ddos-attacks-go-hand-in-hand/">DDoS attacks are commonly coupled with other types of attacks</a> that actually do result in a data breach. While you&rsquo;re busy reacting to the DDoS attack, you&rsquo;re ignoring other alerts or not receiving them b/c critical infrastructure is down, and the attacker is happy-as-a-clam working to get into your network. The more robust your stack is, the more likely you are to be able to handle a DDoS attack and still be able to respond to other alerts.</p>
<p>A reverse proxy can absorb a huge amount of garbage requests (a common DDos tactic) and distribute seemingly-legitimate incoming traffic across multiple application servers, ensuring that no single server is overwhelmed and that no Single-Point-of-Failure exists (in the app stack.. the reverse proxy is still a SPoF but we will have much-reduced the responsibility of the SPoF which reduces the chances that a failure occurs). This is crucial for maintaining availability during DDoS attacks or other high-traffic events. By spreading the load across multiple servers, a reverse proxy can ensure that the web service remains responsive and available to legitimate users.</p>
<p>We won&rsquo;t be discussing load balancing in this post specifically, but it&rsquo;s worth mentioning and it&rsquo;s also worth mentioning that a reverse proxy can also help with caching and optimizing content delivery.</p>
<h2 id="fail2ban-a-guardian-against-brute-force-attacks">Fail2Ban: A Guardian Against Brute-Force Attacks<a hidden class="anchor" aria-hidden="true" href="#fail2ban-a-guardian-against-brute-force-attacks">#</a></h2>
<p>Fail2Ban is an intrusion prevention software that monitors log files for suspicious activity and automatically adjusts firewall rules to block potentially malicious IP addresses. When deployed alongside a reverse proxy, Fail2Ban offers several advantages:</p>
<ol>
<li><strong>Automated Response to Threats</strong>: Fail2Ban swiftly detects and blocks brute-force attempts, SSH attacks, and other common threats, significantly reducing the window of opportunity for attackers.</li>
<li><strong>Customizable Security Policies</strong>: Administrators can tailor Fail2Banâs rules to suit their specific security needs, allowing for a dynamic defense mechanism that evolves with the threat landscape.</li>
<li><strong>Resource Efficiency</strong>: By preventing repeated access attempts from known malicious sources, Fail2Ban reduces unnecessary load on the web services, ensuring that resources are available for legitimate users.</li>
<li><strong>Reduced Chance of False Positive</strong>: When Fail2Ban blocks an IP address, it only does so temporarily, allowing legitimate users to regain access after a specified period, minimizing the risk of false positives permanently affecting user experience. This may seem like a negative, but a temporary block is actually good enough to thwart any attacker because they&rsquo;re likely to move on to the next target after a few failed attempts. Even if this is a targeted attack and they don&rsquo;t move on, <em>just slowing them down</em> actually makes it impossible for success to ever be possible.</li>
</ol>
<h2 id="cloudflare-a-shield-against-ddos-attacks">Cloudflare: A Shield Against DDoS Attacks<a hidden class="anchor" aria-hidden="true" href="#cloudflare-a-shield-against-ddos-attacks">#</a></h2>
<p>Cloudflare is a cloud-based security service that provides protection against DDoS attacks, malware, and other online threats. By routing web traffic through Cloudflareâs global network, organizations can benefit from:</p>
<ol>
<li><strong>Obscured Origin IP</strong>: Cloudflare acts as an additional reverse proxy, concealing the origin IP address of the web services and preventing attackers from directly targeting the servers, enhancing security and privacy.</li>
<li><strong>DDoS Mitigation</strong>: Cloudflareâs network absorbs and filters out malicious traffic, preventing DDoS attacks from overwhelming the web services and ensuring that legitimate users can access the site.</li>
<li><strong>Web Application Firewall (WAF)</strong>: Cloudflareâs WAF protects against common web application vulnerabilities, such as SQL injection and cross-site scripting, by inspecting incoming traffic and blocking malicious requests.</li>
<li><strong>Content Delivery Network (CDN)</strong>: Cloudflareâs CDN caches static content and optimizes delivery, reducing latency and improving performance for users, and further reducing the load from your application server and internal reverse proxy.</li>
<li><strong>SSL/TLS Encryption</strong>: Cloudflare offers free SSL/TLS certificates and enforces secure connections between clients and the web services, enhancing data security and privacy.</li>
</ol>
<h2 id="containers-on-fedora-coreos-the-foundation-of-a-secure-environment">Containers on Fedora CoreOS: The Foundation of a Secure Environment<a hidden class="anchor" aria-hidden="true" href="#containers-on-fedora-coreos-the-foundation-of-a-secure-environment">#</a></h2>
<p>Fedora CoreOS is designed for containerized workloads, offering an immutable, updateable, and secure operating system that&rsquo;s optimized for running containers. Deploying reverse proxies and Fail2Ban within containers on Fedora CoreOS provides several security and operational benefits:</p>
<ol>
<li><strong>Isolation and Containment</strong>: Containers encapsulate applications and their dependencies, limiting the potential impact of a security breach to the contained environment, thereby enhancing the overall security posture.</li>
<li><strong>Rapid Deployment and Scalability</strong>: Containers can be quickly deployed, replicated, and scaled, allowing for flexible response to varying traffic and threat levels without compromising security.</li>
<li><strong>Consistent, Immutable Environment</strong>: Fedora CoreOSâs emphasis on immutability and automatic updates ensures that the underlying operating system remains secure, stable, and free from unauthorized changes, reducing the attack surface.</li>
</ol>
<h1 id="guide-protecting-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare">Guide: Protecting Your Services with an Immutable Reverse Proxy, Fail2Ban, and Cloudflare<a hidden class="anchor" aria-hidden="true" href="#guide-protecting-your-services-with-an-immutable-reverse-proxy-fail2ban-and-cloudflare">#</a></h1>
<h2 id="prerequisites">Prerequisites<a hidden class="anchor" aria-hidden="true" href="#prerequisites">#</a></h2>
<ul>
<li>Free Cloudflare account</li>
<li>Public IP address</li>
<li>Domain name
<ul>
<li>Hopefully from Cloudflare.. It <em>will</em> make your life easier but it&rsquo;s not necessary, you can use any domain registrar as long as you change your nameservers to Cloudflare.</li>
</ul>
</li>
<li>Basic understanding of DNS</li>
<li>An enterprise grade firewall (or a home firewall that you&rsquo;ve configured to be enterprise grade)
<ul>
<li>We <em>need</em> the ability to define an isolated network or VLAN. This is crucial for security. If you&rsquo;re using a consumer-grade router, you&rsquo;re going to have a bad time. You <em>can</em> use a consumer-grade router, but you&rsquo;re going to have to install Tomato/OpenWrt/DD-WRT on it, OR you&rsquo;re going to have to stitch multiple routers together, and you&rsquo;re going to have to be very careful about what you&rsquo;re doing because it&rsquo;s nearly impossible to keep your LAN devices isolated from <em>probably nefarious</em> traffic.</li>
<li>In my opinion, <strong>the BEST way to do this</strong> is to repurpose an old computer as a pfSense/OPNsense firewall. This is a <strong>mostly-free</strong> option (assuming you have some old hardware or know someone who does). You likely only need to buy a dual or quad port pcie NIC, and you&rsquo;re good to go. This is the most secure option, and it&rsquo;s the option that I&rsquo;m going to be assuming you&rsquo;re using for the rest if this guide. If you&rsquo;re not, that&rsquo;s ok, all the concepts will apply nearly 1:1 to any enterprise grade firewall, you might just need to search for specifics on how to do things in your firewall&rsquo;s interface.</li>
</ul>
</li>
<li>Up-to-date software
<ul>
<li>Make sure that you&rsquo;re running the latest versions of your application web server and the application you&rsquo;re hosting. If what you&rsquo;re securing is a 10 year old version of WordPress, you&rsquo;re going to have a bad time either way.</li>
<li>If what you&rsquo;re hosting is a piece of legacy software that can&rsquo;t be updated or replaced, <em>you can</em> make it more secure with these techniques, but if there&rsquo;s a known vulnerability in the login page of the app that you&rsquo;re hosting, no amount of security is going to help you keep <em>that</em> piece of software secure* <em>(see note)</em>. You need to replace that software. Assuming your legacy app isn&rsquo;t running with root/admin privileges, you can still keep the other software on the server secure with these techniques.</li>
</ul>
</li>
</ul>
<p>*<em>it is technically possible to use a reverse proxy to inspect the contents of incoming traffic and block requests that match a known pattern, thereby writing a targeted protection for a given vulnerability, but this is a very advanced technique and it&rsquo;s not something that I&rsquo;m going to be discussing in this post. <a href="https://www.yourhowto.net/nginx-block-sql-injection-and-file-injection/">Here is a basic example of using this technique to block attempts at sql injection (written wayyyy back in 2013!).</a></em></p>
<h2 id="lets-do-it">Let&rsquo;s do it!<a hidden class="anchor" aria-hidden="true" href="#lets-do-it">#</a></h2>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>The integration of reverse proxies with Fail2Ban, all running in containers hosted on Fedora CoreOS, creates a formidable defense strategy for web services. This configuration leverages the strengths of each componentâreverse proxies for traffic management and encryption, Fail2Ban for automated threat mitigation, and Fedora CoreOS containers for secure, scalable, and isolated environments. By adopting this approach, organizations can significantly enhance the security, reliability, and performance of their web services, staying one step ahead in the ongoing battle against cyber threats.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/coreos/">Coreos</a></li>
      <li><a href="http://localhost:1313/tags/nginx/">Nginx</a></li>
      <li><a href="http://localhost:1313/tags/containers/">Containers</a></li>
      <li><a href="http://localhost:1313/tags/immutable-infrastructure/">Immutable Infrastructure</a></li>
      <li><a href="http://localhost:1313/tags/homelab/">Homelab</a></li>
      <li><a href="http://localhost:1313/tags/security/">Security</a></li>
      <li><a href="http://localhost:1313/tags/cloudflare/">Cloudflare</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Seth Brasile</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
